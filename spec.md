# 🔐 웹 기반 방탈출 게임 기획서 (`spec.md`)

## 📌 프로젝트 목표

- 웹페이지로 구현된 **10개의 방으로 구성된 방탈출 게임** 개발
- 각 방은 문제를 풀어야만 다음 방으로 이동 가능
- 문제 유형은 퍼즐, 규칙 추리 등 다양한 형식
- 난이도는 초등학교 고학년 수준, **난이도 3 ~ 10** 사이로 점진 상승
- 게임 전체에서 사용할 수 있는 힌트는 총 3회 (공용)

---

## 🛠️ 사용 기술

- **웹 프레임워크**: Next.js (App Router), Node.js
- **스타일링**: Tailwind CSS, shadcn/ui
- **데이터베이스**: Redis
- **상태 관리**: React Context or Zustand (힌트, 현재 방 등 관리)
- **추가 고려사항**:
  - 문제 정답/오답 처리
  - 정답 유효성 검사
  - 각 문제별 JSON 기반 데이터 구조

---

## 🧩 페이지 구성

| 경로               | 설명                         |
| ------------------ | ---------------------------- |
| `/`                | 메인 화면 (게임 시작, 설명)  |
| `/escape/[roomId]` | 문제 풀이 화면 (1번~10번 방) |
| `/finish`          | 최종 탈출 완료 화면          |

---

## 📊 문제 구성

| 방 번호 | 유형                    | 난이도 | 설명                                  |
| ------- | ----------------------- | ------ | ------------------------------------- |
| 1번     | 숫자 규칙 추리          | 3      | 복잡한 패턴 (+2, +5, +7 등) 추론      |
| 2번     | OX 퀴즈 (추론 포함)     | 4      | 단순 상식이 아닌 의미 해석 포함       |
| 3번     | 드래그 정렬             | 4.5    | 동물 크기, 계절 등 순서 유추          |
| 4번     | 시저 암호 해독          | 5      | 알파벳 변환 (예: -3 이동)             |
| 5번     | 숨은 단서 찾기 (클릭형) | 5.5    | 이미지 속 특정 위치 클릭 시 단서 노출 |
| 6번     | 미로 탈출 (방향 기억)   | 6      | 순서 기억 기반 탈출 경로 추리         |
| 7번     | 그림 비교               | 6.5    | 다른 그림 찾기 (5개 이상)             |
| 8번     | 단어 조합               | 7.5    | 섞인 글자 중 올바른 단어 조합         |
| 9번     | 숫자 자물쇠             | 8.5    | 힌트들을 조합해 4자리 숫자 도출       |
| 10번    | 그림 + 암호 추론 퍼즐   | 10     | 아이콘/색 조합으로 암호 해독          |

---

## 🔒 10번 방 상세 문제 (난이도 10)

### 문제 유형: 그림 기반 암호 추론

**문제**:

- 이미지 또는 아이콘으로 구성된 퍼즐 제공
- 메모 속 힌트:
  - 🟥 = 3
  - 🟩🟩 = 8
  - 🟦 + 🟥 = 6

**풀이**:

- 🟩 = 4
- 🟦 = 3
- 조합하여 4자리 암호 완성 (예: 3434)

**UI 요소**:

- 이미지 또는 일러스트 삽입
- 4자리 숫자 입력 필드
- 정답 확인 버튼 + 힌트 버튼 (총 3회 중 사용 시 감소)

---

## 💾 데이터 구조 예시 (JSON 포맷)

```json
{
  "id": 1,
  "title": "숫자 규칙 추리",
  "question": "3, 6, 11, 18, ?",
  "answer": "29",
  "hint": "숫자 사이의 차이를 확인해보세요.",
  "type": "number_pattern",
  "difficulty": 3
}
```

---

## 🧠 힌트 시스템

- 전체 플레이 중 힌트는 **3회 제한**
- 힌트를 사용하는 순간 즉시 차감
- 전역 상태로 관리
- 버튼 UI로 각 문제 페이지에서 사용 가능

---

## ✅ TODO (다음 작업)

- [ ] 문제 JSON 구성 10개 완성
- [ ] 각 문제 타입에 맞는 React 컴포넌트 설계
- [ ] SQLite DB 초기화 및 Seed Script 작성
- [ ] 페이지 라우팅 및 진입 제한 처리 (정답 시 다음 방만 열림)
- [ ] 힌트 상태 전역 관리 구현
